"use strict";!function(i,t,n){n._priceFormat=function(e){e=parseFloat(e);var n=Math.log10(e),i=0;return 4<=n?i=e.toFixed(0):3<=n?i=e.toFixed(1):2<=n?i=e.toFixed(2):1<=n?i=e.toFixed(2):0<=n?i=e.toFixed(3):-1<=n?i=e.toFixed(4):-2<=n?i=e.toFixed(5):-3<=n?i=e.toFixed(6):-4<=n?i=e.toFixed(7):-5<=n?i=e.toFixed(8):-6<=n?i=e.toFixed(8):-7<=n?i=e.toFixed(8):-8<=n&&(i=e.toFixed(8)),i};var o={elements:{document:null,window:null,sidebar_menu:null,top_menu:null,menu_toggle:null,price_currency:null,language:null,donation_box:null,slide_up:null,gdpr_message:null},init:function(){var n=this.elements,e=n.menu_toggle.find("i");n.sidebar_menu.sidebar({onShow:function(){e.attr("class","close icon")},onHide:function(){e.attr("class","sidebar icon")}}),n.menu_toggle.click(function(){n.sidebar_menu.sidebar("toggle")}),this.downloadRates(function(e){e.some(function(e){if(e.value===i.price_currency)return e.selected=!0}),n.price_currency.dropdown({forceSelection:!1,values:e,onChange:function(e){e&&i.price_currency!==e&&(t.cookie("ct_price_currency",e,{expires:60,path:"/"}),location.reload(!0))}})}),n.language.dropdown({forceSelection:!1,onChange:function(e){t.cookie("ct_language",e,{expires:60,path:"/"}),location.reload(!0)}}),this.initSlideUp(),this.initDonation(),this.initGDPR(),this.setRates()},initSlideUp:function(){var e=this.elements;e.slide_up.click(function(){t("html, body").animate({scrollTop:80},"slow")}),e.document.scroll(function(){e.document.scrollTop()>e.window.height()?e.slide_up.show():e.slide_up.hide()})},initGDPR:function(){var e=this.elements;e.gdpr_message.length&&e.gdpr_message.click(function(){t(this).closest(".message").transition("fade"),t.cookie("ct_gdpr_checked",!0,{expires:60,path:"/"})})},initDonation:function(){var e=this.elements;t(".donation-item").click(function(){e.donation_box.modal("show")}),e.donation_box.find(".form .field").each(function(){var e=t(this),n=e.find(".button"),i=e.find("input");n.click(function(){i.select(),document.execCommand("copy")})})},downloadRates:function(n){var e=i.urls.api+"/rates/list";t.getJSON(e,function(e){e&&n(e)})},setRates:function(){var e=i.urls.api+"/rates/fx";t.getJSON(e,function(e){e&&(n.base=e.base,n.rates=e.rates,n._can_convert=!0,o.elements.document.trigger("fxready"))})}};t(function(){var e=o.elements;e.document=t(document),e.window=t(window),e.sidebar_menu=t("#sidebar-menu"),e.top_menu=t("#top-menu"),e.menu_toggle=t("#sidebar-menu-toggle"),e.price_currency=t(".price-currency"),e.language=t(".language"),e.donation_box=t("#donation-box"),e.slide_up=t("#slide-up"),e.gdpr_message=t("#gdpr-message"),o.init()})}(window.CoinTableConstants,jQuery,fx);